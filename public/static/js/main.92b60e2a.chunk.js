(this["webpackJsonpoblekco-frontend"]=this["webpackJsonpoblekco-frontend"]||[]).push([[0],{33:function(e,a,t){e.exports=t(63)},38:function(e,a,t){},40:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(29),l=t.n(c),u=(t(38),t(30)),s=t.n(u),i=(t(39),t(31)),o=t.n(i),m=t(4),d=t(5),h=t(6),p=t(7),k=Object(n.createContext)(),v=(t(40),t(10)),g=t(11),E=t.n(g),f="https://oblekco-runningtracker.herokuapp.com/api";E.a.defaults.withCredentials=!0;var b=function(e){return E.a.post("".concat(f,"/login"),e)},N=function(e){return E.a.post("".concat(f,"/signup"),e)},y=function(){return E.a.post("".concat(f,"/logout"))},w=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).logout=function(){var a=e.props.history;y().then((function(){localStorage.removeItem("user"),e.setState({user:{}}),a.push("/")}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.context.state;return r.a.createElement("div",null,e.user._id&&r.a.createElement("nav",{className:"navbar","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement(v.b,{className:"nav-title-text",to:"/"},"Running Tracker")),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement(v.b,{className:"nav-text",to:"/myruns"},"My Runs"),r.a.createElement(v.b,{className:"nav-text",to:"/newrun"},"+ Add New Run"),r.a.createElement("a",{className:"nav-text",href:"/",onClick:this.logout},"Log Out"))))}}]),t}(n.Component);w.contextType=k,w.contextType=k;var j=w,O=t(1),x=t(9),C=t(12),S=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"))}}]),t}(n.Component),D=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={user:{}},e.handleChange=function(a){var t=e.state.user;t=Object(C.a)({},t,Object(x.a)({},a.target.name,a.target.value)),e.setState({user:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.user,n="/"===e.props.location.pathname,r=e.context.setUser;(n?b:N)(t).then((function(e){if(n){var a=e.data.user;localStorage.setItem("user",JSON.stringify(a)),r(a)}})).catch((function(e){console.log(e)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e="/signup"===this.props.location.pathname,a=this.context.state;return r.a.createElement("div",null,!a.user._id&&r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-middle uk-flex-right login","uk-height-viewport":"true"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-width-1-3@m uk-margin-xlarge-right authform-card"},r.a.createElement("h2",{className:"title-text uk-text-center"},"Running Tracker"),r.a.createElement("form",{onSubmit:this.handleSubmit},e?r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: star"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Name",id:"name",name:"name",className:"uk-input",type:"text"}))):null,e?r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon:  bolt"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Last name",id:"last_name",name:"last_name",className:"uk-input",type:"text"}))):null,r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Email address",id:"email",name:"email",className:"uk-input",type:"text"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Password",id:"password",name:"password",className:"uk-input",type:"password"}))),r.a.createElement("button",{className:"authform-button uk-width-1-1"},e?"Sign Up":"Log In"),r.a.createElement("hr",{className:"uk-divider-icon"}),e?r.a.createElement("h5",{className:"uk-text-center"},"Have an account? ",r.a.createElement(v.b,{to:"/"},"Log In")):r.a.createElement("h5",{className:"uk-text-center"},"Don't have an account? ",r.a.createElement(v.b,{to:"/signup"},"Sign Up"))))),a.user._id&&r.a.createElement(S,null))}}]),t}(n.Component);D.contextType=k,D.contextType=k;var _=D,M=t(14),R=t.n(M);E.a.defaults.withCredentials=!0;var T=function(e){return E.a.post("".concat(f,"/run"),e)},I=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={run:{}},e.handleChange=function(a){var t,n=e.state.run,r=document.getElementById("distance").value,c=document.getElementById("type").value;n=Object(C.a)({},n,(t={},Object(x.a)(t,a.target.name,a.target.value),Object(x.a)(t,"distance",r),Object(x.a)(t,"type",c),t)),e.setState({run:n})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.run;T(t).then((function(){document.location.reload(!0)})).catch((function(e){return console.error(e.response)}))},e}return Object(d.a)(t,[{key:"render",value:function(){var e=R()().format("YYYY-MM-DD");return r.a.createElement("div",{className:"uk-width-4-5 uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin uk-margin-left","uk-grid":"true"},r.a.createElement("div",{className:"uk-flex-last@s uk-card-media-right uk-cover-container"},r.a.createElement("img",{src:"https://res.cloudinary.com/karen491/image/upload/v1599338719/oblekco/running-form_jfp907.jpg",alt:"","uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"200"})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h2",{className:"uk-text-bolder"},"New Run"),r.a.createElement("form",{className:"uk-grid-small","uk-grid":"true",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Date"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"date",id:"date",type:"date",max:e})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Distance"),r.a.createElement("select",{className:"uk-select",id:"distance"},r.a.createElement("option",null,"5K"),r.a.createElement("option",null,"10K"),r.a.createElement("option",null,"15K"),r.a.createElement("option",null,"21K"),r.a.createElement("option",null,"30K"),r.a.createElement("option",null,"Marathon (42K)"))),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Country"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"country",it:"country",type:"text"})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"City"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"city",it:"city",type:"text"})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Run type"),r.a.createElement("select",{className:"uk-select",id:"type"},r.a.createElement("option",null,"Trail"),r.a.createElement("option",null,"Road"))),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Timing (min)"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"timing",id:"timing",type:"number"})),r.a.createElement("button",{className:"runform-button uk-width-1-2 uk-align-center"},"Save Run")))))}}]),t}(n.Component),Y=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={runs:{}},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e,a=this;E.a.get("".concat(f,"/run"),e).then((function(e){var t=e.data.result,n=t.reduce((function(e,a){return Object(C.a)({},e,Object(x.a)({},a._id,a))}),{});a.setState({runs:n})}))}},{key:"render",value:function(){var e,a=this.state.runs;return r.a.createElement("div",null,r.a.createElement("h2",{className:"uk-margin-top uk-margin-large-left uk-text-bolder"},"All runs"),r.a.createElement("div",{className:"uk-grid-column-small uk-grid-row-large uk-child-width-1-4@s uk-text-center uk-margin-top uk-margin-left","uk-grid":"true"},(e=a,Object.values(e)).map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"uk-card run-card"},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{src:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_200,w_350/v1599410594/oblekco/my-runs_um7ssn.jpg",alt:""})),r.a.createElement("div",{className:"uk-text-left uk-margin uk-padding-small"},r.a.createElement("h5",{className:"uk-margin-small"},"Distance: ",e.distance),r.a.createElement("h5",{className:"uk-margin-small"},"Timing: ","".concat(e.timing," min")),r.a.createElement("h5",{className:"uk-margin-small"},"Date: ",R()(e.date).format("MMMM DD, YYYY")),r.a.createElement("h5",{className:"uk-margin-small"},"Run type: ",e.type),r.a.createElement("h5",{className:"uk-margin-small"},"Place: ","".concat(e.city,", ").concat(e.country)))))}))))}}]),t}(n.Component),A=function(){return r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:_}),r.a.createElement(O.a,{exact:!0,path:"/signup",component:_}),r.a.createElement(O.a,{exact:!0,path:"/newrun",component:I}),r.a.createElement(O.a,{exact:!0,path:"/myruns",component:Y}))},K=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={user:JSON.parse(localStorage.getItem("user"))||{}},e.setUser=function(a){e.setState({user:a})},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,a=this.setUser;return r.a.createElement(k.Provider,{value:{state:e,setUser:a}},r.a.createElement("div",{className:"home"},e.user._id&&r.a.createElement(j,null),r.a.createElement(A,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.use(o.a);var U=function(){return r.a.createElement(v.a,null,r.a.createElement(K,null))};l.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.92b60e2a.chunk.js.map