(this["webpackJsonpoblekco-frontend"]=this["webpackJsonpoblekco-frontend"]||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),u=(a(38),a(29)),s=a.n(u),i=(a(39),a(30)),o=a.n(i),m=a(6),d=a(7),h=a(8),p=a(9),k=Object(n.createContext)(),v=(a(40),a(5)),E=a(11),g=a.n(E),f="https://oblekco-runningtracker.herokuapp.com/api";g.a.defaults.withCredentials=!0;var b=function(e){return g.a.post("".concat(f,"/login"),e)},N=function(e){return g.a.post("".concat(f,"/signup"),e)},y=function(){return g.a.post("".concat(f,"/logout"))},w=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).logout=function(){var t=e.props.history;y().then((function(){localStorage.removeItem("user"),e.setState({user:{}}),t.push("/")}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.context.state;return r.a.createElement("div",null,e.user._id&&r.a.createElement("nav",{className:"navbar","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement(v.b,{className:"nav-title-text",to:"/"},"Running Tracker")),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement(v.b,{className:"nav-text",to:"/"},"My Runs"),r.a.createElement(v.b,{className:"nav-text",to:"/newrun"},"+ Add New Run"),r.a.createElement("a",{className:"nav-text",href:"/",onClick:this.logout},"Log Out"))))}}]),a}(n.Component);w.contextType=k,w.contextType=k;var x=w,C=a(1),O=a(10),j=a(13),S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e.handleChange=function(t){var a=e.state.user;a=Object(j.a)({},a,Object(O.a)({},t.target.name,t.target.value)),e.setState({user:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.user,n="/"===e.props.location.pathname,r=e.context.setUser;(n?b:N)(a).then((function(e){if(n){var t=e.data.user;localStorage.setItem("user",JSON.stringify(t)),r(t)}})).catch((function(e){console.log(e)}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e="/signup"===this.props.location.pathname,t=this.context.state;return r.a.createElement("div",null,!t.user._id&&r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-middle uk-flex-right login","uk-height-viewport":"true"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-width-1-3@m uk-margin-xlarge-right authform-card"},r.a.createElement("h2",{className:"title-text uk-text-center"},"Running Tracker"),r.a.createElement("form",{onSubmit:this.handleSubmit},e?r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: star"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Name",id:"name",name:"name",className:"uk-input",type:"text"}))):null,e?r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon:  bolt"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Last name",id:"last_name",name:"last_name",className:"uk-input",type:"text"}))):null,r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Email address",id:"email",name:"email",className:"uk-input",type:"text"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-inline uk-width-1-1"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Password",id:"password",name:"password",className:"uk-input",type:"password"}))),r.a.createElement("button",{className:"authform-button uk-width-1-1"},e?"Sign Up":"Log In"),r.a.createElement("hr",{className:"uk-divider-icon"}),e?r.a.createElement("h5",{className:"uk-text-center"},"Have an account? ",r.a.createElement(v.b,{to:"/"},"Log In")):r.a.createElement("h5",{className:"uk-text-center"},"Don't have an account? ",r.a.createElement(v.b,{to:"/signup"},"Sign Up"))))))}}]),a}(n.Component);S.contextType=k,S.contextType=k;var I=S,R=a(32),T=a.n(R);g.a.defaults.withCredentials=!0;var D=function(e){return g.a.post("".concat(f,"/run"),e)},K=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={run:{}},e.handleChange=function(t){var a,n=e.state.run,r=document.getElementById("distance").value,l=document.getElementById("type").value;n=Object(j.a)({},n,(a={},Object(O.a)(a,t.target.name,t.target.value),Object(O.a)(a,"distance",r),Object(O.a)(a,"type",l),a)),e.setState({run:n})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.run;D(a).then((function(){document.location.reload(!0)})).catch((function(e){return console.error(e.response)}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=T()().format("YYYY-MM-DD");return r.a.createElement("div",{className:"uk-width-4-5 uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin uk-margin-left","uk-grid":"true"},r.a.createElement("div",{className:"uk-flex-last@s uk-card-media-right uk-cover-container"},r.a.createElement("img",{src:"https://res.cloudinary.com/karen491/image/upload/v1599338719/oblekco/running-form_jfp907.jpg",alt:"","uk-cover":"true"}),r.a.createElement("canvas",{width:"600",height:"200"})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h2",null,"New Run"),r.a.createElement("form",{className:"uk-grid-small","uk-grid":"true",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Date"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"date",id:"date",type:"date",max:e})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Distance"),r.a.createElement("select",{className:"uk-select",id:"distance"},r.a.createElement("option",null,"5K"),r.a.createElement("option",null,"10K"),r.a.createElement("option",null,"15K"),r.a.createElement("option",null,"21K"),r.a.createElement("option",null,"30K"),r.a.createElement("option",null,"Marathon (42K)"))),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Country"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"country",it:"country",type:"text"})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"City"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"city",it:"city",type:"text"})),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Run type"),r.a.createElement("select",{className:"uk-select",id:"type"},r.a.createElement("option",null,"Trail"),r.a.createElement("option",null,"Road"))),r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("label",{className:"uk-form-label"},"Timing (min)"),r.a.createElement("input",{onChange:this.handleChange,className:"uk-input",name:"timing",id:"timing",type:"number"})),r.a.createElement("button",{className:"runform-button uk-width-1-2 uk-align-center"},"Save Run")))))}}]),a}(n.Component),U=function(){return r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/",component:I}),r.a.createElement(C.a,{exact:!0,path:"/signup",component:I}),r.a.createElement(C.a,{exact:!0,path:"/newrun",component:K}))},_=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:JSON.parse(localStorage.getItem("user"))||{}},e.setUser=function(t){e.setState({user:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=this.setUser;return r.a.createElement(k.Provider,{value:{state:e,setUser:t}},r.a.createElement("div",{className:"home"},e.user._id&&r.a.createElement(x,null),r.a.createElement(U,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.use(o.a);var A=function(){return r.a.createElement(v.a,null,r.a.createElement(_,null))};c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.eb3790b8.chunk.js.map